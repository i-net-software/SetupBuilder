plugins {
  id "com.gradle.plugin-publish" version "0.9.1"
}

apply plugin: 'java'
apply plugin: 'maven'

group = 'de.inetsoftware'
version = '1.3.0'
sourceCompatibility = 1.8
compileJava.options.encoding = 'UTF-8'

repositories {
    jcenter()
}

dependencies {
    compile gradleApi()
}

sourceSets {
    main {
        java {
            srcDirs = ['src']
        }
        resources {
            srcDirs = ['src']
            exclude '**/*.java'
            exclude '**/package.html'
        }
    }
}

uploadArchives {
    repositories {
        mavenDeployer {
            repository(url: uri('../repo'))
        }
    }
}

pluginBundle {
  website = 'https://github.com/i-net-software/SetupBuilder'
  vcsUrl = 'https://github.com/i-net-software/SetupBuilder'
  description = 'The Setup Builder is a plugin for Gradle which can create a native setups for different platforms like Windows, Linux and OSX. The output is a *.msi, a *.deb, a *.rpm or a *.dmg file.'
  tags = ['setup', 'installer', 'msi', 'dmg', 'deb', 'rpm', 'windows', 'linux', 'osx' ]

  plugins {
    setupBuilderPlugin {
      id = 'de.inetsoftware.setupbuilder'
      displayName = 'Gradle Setup Builder plugin'
    }
  }
}
